# Database Configuration
DATABASE_URL=sqlite+aiosqlite:///./script_rating.db
# For PostgreSQL: DATABASE_URL=postgresql+asyncpg://user:password@localhost:5432/script_rating

# Application Settings
APP_NAME=Script Rating Backend
DEBUG=True
SECRET_KEY=your-secret-key-here

# API Configuration
API_HOST=0.0.0.0
API_PORT=8000

# CORS Configuration
CORS_ORIGINS=http://localhost:3000,http://localhost:8080,http://localhost:4200

# Logging
LOG_LEVEL=INFO

# Optional: LLM API Keys (if using external LLM services)
# OPENAI_API_KEY=your-openai-key
# ANTHROPIC_API_KEY=your-anthropic-key
# OPENROUTER_API_KEY=your-openrouter-key
# OPENROUTER_BASE_URL=https://openrouter.ai/api/v1
# OPENROUTER_REFERER=https://your-app-domain.example
# OPENROUTER_APP_NAME=ScriptRating
# OPENROUTER_TIMEOUT=30

# Enhanced RAG System Configuration

# Embedding Providers Configuration
# Primary provider: "local" (free, private), "openrouter" (free), "openai", "huggingface"
EMBEDDING_PRIMARY_PROVIDER=local

# OpenAI Embeddings (Primary Provider)
OPENAI_EMBEDDING_API_KEY=your-openai-api-key-here
OPENAI_EMBEDDING_MODEL=text-embedding-3-large

# OpenRouter (Free Alternative for Embeddings)
# Get free API key at: https://openrouter.ai/
OPENROUTER_API_KEY=your-openrouter-key-here
OPENROUTER_BASE_URL=https://openrouter.ai/api/v1
# Available embedding models: openai/text-embedding-3-small, cohere/embed-multilingual-v3.0

# HuggingFace Inference API (Free Cloud Option)
# Get free token at: https://huggingface.co/settings/tokens
HUGGINGFACE_API_TOKEN=your-huggingface-token-here

# Local Models Configuration (Always Available Fallback)
# Recommended models for different use cases:
LOCAL_EMBEDDING_MODEL=all-MiniLM-L6-v2
# Available models:
# - all-MiniLM-L6-v2 (384 dims, fast, general purpose) ‚≠ê RECOMMENDED
# - paraphrase-multilingual-mpnet-base-v2 (768 dims, multilingual, Russian support)
# - all-MiniLM-L12-v2 (384 dims, better quality than L6)
# - jina-embeddings-v2-base-code (768 dims, code-focused)
# - intfloat/multilingual-e5-large (1024 dims, enterprise grade)

# General Embedding Settings
EMBEDDING_BATCH_SIZE=100
EMBEDDING_CACHE_TTL=604800  # 7 days in seconds

# Redis Configuration (for embedding cache)
REDIS_URL=redis://localhost:6379/0
# REDIS_PASSWORD=your-redis-password
REDIS_MAX_CONNECTIONS=10

# Qdrant Vector Database
QDRANT_URL=http://localhost:6333
QDRANT_API_KEY=your-qdrant-api-key
QDRANT_COLLECTION_NAME=scriptrating_documents
QDRANT_VECTOR_SIZE=1536  # Default for text-embedding-3-large (auto-adjusts per model)
QDRANT_DISTANCE_METRIC=Cosine  # Cosine, Euclid, or Dot
QDRANT_OPTIMIZATION_THRESHOLD=20000
QDRANT_INDEXING_THRESHOLD=20000
QDRANT_MEMMAP_THRESHOLD=100000
QDRANT_PAYLOAD_MMAP_THRESHOLD=10000
QDRANT_MAX_SEARCH_THREADS=4
QDRANT_MAX_OPTIMIZATION_THREADS=2
QDRANT_UPDATE_CONCURRENCY=8
QDRANT_SEARCH_TIMEOUT_SEC=60

# RAG Features
ENABLE_RAG_SYSTEM=true
ENABLE_EMBEDDING_CACHE=true
ENABLE_TFIDF_FALLBACK=true
ENABLE_HYBRID_SEARCH=true
RAG_SEARCH_TIMEOUT=5.0  # seconds

# Optional: File Upload Settings
MAX_UPLOAD_SIZE=10485760  # 10MB in bytes

# Development/Testing Settings
# For testing different providers:
# EMBEDDING_PRIMARY_PROVIDER=mock    # Always available fallback
# EMBEDDING_PRIMARY_PROVIDER=local   # Free, private (RECOMMENDED DEFAULT)
# EMBEDDING_PRIMARY_PROVIDER=openrouter  # Free embeddings with API key
# EMBEDDING_PRIMARY_PROVIDER=openai      # Paid embeddings with API key
